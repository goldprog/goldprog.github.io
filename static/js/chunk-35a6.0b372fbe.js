(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35a6"],{"2HWJ":function(t,e,o){},UFDU:function(t,e,o){"use strict";var i=o("sLvx");o.n(i).a},Yfch:function(t,e,o){"use strict";function i(t){return/^1\d{10}$/.test(t)}function n(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function r(t){return/([a-zA-Z0-9.!@#$%^&*()_?<>{}]){6,20}/.test(t)}function s(t){return/^[a-zA-Z0-9_-]{4,16}$/.test(t)}function a(t){return!["fuck","tmd","他妈的"].includes(t)}o.d(e,"c",function(){return i}),o.d(e,"a",function(){return n}),o.d(e,"b",function(){return r}),o.d(e,"e",function(){return s}),o.d(e,"d",function(){return a})},d6gQ:function(t,e,o){"use strict";var i=o("2HWJ");o.n(i).a},nWR2:function(t,e,o){t.exports=o.p+"static/img/logo.d1e61f6.png"},ntYl:function(t,e,o){"use strict";o.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-container"},[e("img",{attrs:{src:o("nWR2"),alt:""}})])}],n=o("Yfch");function r(t){function e(t){if(this.options={id:"",canvasId:"verifyCanvas",width:"150",height:"44",type:"blend",code:""},"[object Object]"===Object.prototype.toString.call(t))for(var e in t)this.options[e]=t[e];else this.options.id=t;this.options.numArr="0,1,2,3,4,5,6,7,8,9".split(","),this.options.letterArr="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),this._init(),this.refresh()}function o(t,e){return Math.floor(Math.random()*(e-t)+t)}function i(t,e){return"rgb("+o(t,e)+","+o(t,e)+","+o(t,e)+")"}return e.prototype={version:"1.0.0",_init:function(){var t=document.getElementById(this.options.id),e=document.createElement("canvas");e.id=this.options.canvasId,e.width=this.options.width,e.height=this.options.height,e.style.cursor="pointer",e.innerHTML="您的浏览器版本不支持canvas",t.appendChild(e);var o=this;e.onclick=function(){o.refresh()}},refresh:function(){this.options.code="";var t=void 0,e=void 0,n=document.getElementById(this.options.canvasId);n.getContext&&(t=n.getContext("2d")),t.textBaseline="middle",t.fillStyle=i(180,240),t.fillRect(0,0,this.options.width,this.options.height),e="blend"===this.options.type?this.options.numArr.concat(this.options.letterArr):"number"===this.options.type?this.options.numArr:this.options.letterArr;for(var r=1;r<=4;r++){var s=e[o(0,e.length)];this.options.code+=s,t.font="24px SimHei",t.fillStyle=i(50,160),t.shadowBlur=o(-3,3),t.shadowColor="rgba(0, 0, 0, 0.3)";var a=this.options.width/5*r,l=this.options.height/2,c=o(-30,30);t.translate(a,l),t.rotate(c*Math.PI/180),t.fillText(s,0,0),t.rotate(-c*Math.PI/180),t.translate(-a,-l)}for(var d=0;d<4;d++)t.strokeStyle=i(40,180),t.beginPath(),t.moveTo(o(0,this.options.width/2),o(0,this.options.height/2)),t.lineTo(o(0,this.options.width/2),o(0,this.options.height)),t.stroke();for(var u=0;u<this.options.width/4;u++)t.fillStyle=i(0,255),t.beginPath(),t.arc(o(0,this.options.width),o(0,this.options.height),1,0,2*Math.PI),t.fill()},validate:function(t){return t.toLowerCase()===this.options.code.toLowerCase()}},new e(t)}var s={name:"Login",data:function(){var t=this;return{loginForm:{user_name:"goldprog",password:"123456",code:""},loginRules:{user_name:[{required:!0,trigger:"blur",validator:function(t,e,o){Object(n.e)(e)?o():o(new Error("请输入正确格式的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(t,e,o){Object(n.b)(e)?o():o(new Error("密码应为6-20位字母或数字或特殊符号"))}}],code:[{required:!0,trigger:"blur",validator:function(e,o,i){o?t.verifyCode.validate(o)?i():i(new Error("验证码不正确")):i(new Error("请输入验证码"))}}]},passwordType:"password",loading:!1,redirect:void 0,forgetLoading:!1}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},created:function(){var t=this;this.$nextTick(function(){t.verifyCode=r("checkcode")})},methods:{handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("LoginByAccount",t.loginForm).then(function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})}).catch(function(){t.loading=!1})})},handleForgetPsw:function(){var t=this;this.$prompt("请输入您的账号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[a-zA-Z0-9_-]{4,16}$/,inputErrorMessage:"账号格式不正确"}).then(function(e){var o=e.value;t.forgetLoading=!0,t.$store.dispatch("forgetPassword",o).then(function(e){t.forgetLoading=!1,1===e?t.alertToEmail():t.errorToEmail()})})},refreshCheckCode:function(){this.verifyCode=r("checkcode")},alertToEmail:function(){this.$alert("重置密码链接已发送到您绑定的邮箱，请登录该账号绑定的邮箱点击链接设置新密码！","提示",{confirmButtonText:"确定",type:"success"})},errorToEmail:function(){this.$alert("您未绑定正确邮箱，无法给您发送重置链接，请联系管理员找回密码！","抱歉",{confirmButtonText:"确定",type:"warning"})}}},a=(o("UFDU"),o("d6gQ"),o("ZrdR")),l=Object(a.a)(s,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-container"},[o("div",{staticClass:"login-wrapper"},[t._m(0),t._v(" "),o("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.loginRules,"label-width":"40px"}},[o("el-form-item",{attrs:{prop:"user_name"}},[o("span",{staticClass:"icon",attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.loginForm.user_name,callback:function(e){t.$set(t.loginForm,"user_name",e)},expression:"loginForm.user_name"}})],1),t._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("span",{staticClass:"icon",attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),o("el-input",{attrs:{type:"password","show-password":"",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),o("el-form-item",{staticClass:"checkcode",attrs:{prop:"code"}},[o("span",{staticClass:"icon",attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"code"}})],1),t._v(" "),o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入验证码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.code,callback:function(e){t.$set(t.loginForm,"code",e)},expression:"loginForm.code"}}),t._v(" "),o("div",{staticClass:"code-wrap",attrs:{id:"checkcode"}}),t._v(" "),o("div",{staticClass:"refresh",on:{click:t.refreshCheckCode}},[o("svg-icon",{attrs:{"icon-class":"refresh"}})],1)],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"submit-btn",attrs:{loading:t.loading,type:"primary"},on:{click:t.handleLogin}},[t._v("马上登录")])],1),t._v(" "),o("el-form-item",[t.forgetLoading?o("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),o("span",{staticClass:"forget-password",on:{click:t.handleForgetPsw}},[t._v("忘记密码？")])])],1)],1)])},i,!1,null,"3e77883e",null);l.options.__file="index.vue";e.default=l.exports},sLvx:function(t,e,o){}}]);