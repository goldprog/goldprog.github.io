(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-701b"],{Nlzp:function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return l});var a=i("t3Un");function n(){return Object(a.a)({url:"/index/gamelist",method:"get"})}function l(){return Object(a.a)({url:"/index/kefulist",method:"get"})}},QBoE:function(e,t,i){},W3NX:function(e,t,i){"use strict";i.r(t);var a=i("cLjf"),n=i.n(a),l=i("hDQ3"),o=i.n(l),r=i("bS4n"),s=i.n(r),c=i("Mz3J"),u=i("6ZY3"),p=i.n(u),d=i("IL3p"),f=i.n(d),g={props:{title:{type:String,required:!0},width:{type:String,default:"30%"},visible:{type:Boolean,default:!1},batch:{type:Boolean,default:!1},type:{type:String,default:""},giftInfo:{type:Object,default:function(){return{}}}},data:function(){return{dialogForm:{gamename:"",clientid:"",openid:"",roleid:"",giftpacks_type:"",giftpacks_content:""},cloneFormData:null,rules:{giftpacks_type:[{required:!0,message:"请选择礼包分类",trigger:"blur"}],giftpacks_content:[{required:!0,message:"请输入奖励内容",trigger:"blur"}]}}},methods:{handleOpen:function(){this.cloneFormData=f()(this.dialogForm),this.dialogForm=p()({},this.dialogForm,this.giftInfo)},handleCancel:function(){this._resetFields(),this.$emit("update:visible",!1)},handleConfirm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;var i={id:e.dialogForm.id,openid:e.dialogForm.openid,roleid:e.dialogForm.roleid,gameid:e.dialogForm.gameid,clientid:e.dialogForm.clientid,giftpacks_type:e.dialogForm.giftpacks_type,giftpacks_content:e.dialogForm.giftpacks_content};e.$emit(e.type,i)})},_resetFields:function(){this.$refs.form.resetFields(),this.dialogForm=this.cloneFormData}}},m=(i("qqUa"),i("ZrdR")),h=Object(m.a)(g,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{visible:e.visible,width:e.width,title:e.title},on:{open:e.handleOpen,close:e.handleCancel}},[i("div",{staticClass:"form-container"},[i("el-form",{ref:"form",attrs:{model:e.dialogForm,rules:e.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"隶属游戏",prop:"gamename"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.dialogForm.gamename,callback:function(t){e.$set(e.dialogForm,"gamename",t)},expression:"dialogForm.gamename"}})],1),e._v(" "),e.batch?e._e():i("el-form-item",{attrs:{label:"区服",prop:"clientid"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.dialogForm.clientid,callback:function(t){e.$set(e.dialogForm,"clientid",t)},expression:"dialogForm.clientid"}})],1),e._v(" "),e.batch?e._e():i("el-form-item",{attrs:{label:"用户ID",prop:"openid"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.dialogForm.openid,callback:function(t){e.$set(e.dialogForm,"openid",t)},expression:"dialogForm.openid"}})],1),e._v(" "),e.batch?e._e():i("el-form-item",{attrs:{label:"角色ID",prop:"roleid"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.dialogForm.roleid,callback:function(t){e.$set(e.dialogForm,"roleid",t)},expression:"dialogForm.roleid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"礼包分类",prop:"giftpacks_type"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dialogForm.giftpacks_type,callback:function(t){e.$set(e.dialogForm,"giftpacks_type",t)},expression:"dialogForm.giftpacks_type"}},[i("el-option",{attrs:{label:"1月返利礼包",value:"1月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"2月返利礼包",value:"2月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"3月返利礼包",value:"3月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"4月返利礼包",value:"4月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"5月返利礼包",value:"5月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"6月返利礼包",value:"6月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"7月返利礼包",value:"7月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"8月返利礼包",value:"8月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"9月返利礼包",value:"9月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"10月返利礼包",value:"10月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"11月返利礼包",value:"11月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"12月返利礼包",value:"12月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"其他礼包1",value:"其他礼包1"}}),e._v(" "),i("el-option",{attrs:{label:"其他礼包2",value:"其他礼包2"}}),e._v(" "),i("el-option",{attrs:{label:"其他礼包3",value:"其他礼包3"}}),e._v(" "),i("el-option",{attrs:{label:"生日礼包",value:"生日礼包"}}),e._v(" "),i("el-option",{attrs:{label:"见面礼包",value:"见面礼包"}}),e._v(" "),i("el-option",{attrs:{label:"周登记礼包",value:"周登记礼包"}}),e._v(" "),i("el-option",{attrs:{label:"周充值礼包",value:"周充值礼包"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"奖励内容",prop:"giftpacks_content"}},[i("el-input",{attrs:{rows:3,type:"textarea"},model:{value:e.dialogForm.giftpacks_content,callback:function(t){e.$set(e.dialogForm,"giftpacks_content",t)},expression:"dialogForm.giftpacks_content"}})],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")])],1)])},[],!1,null,null,null);h.options.__file="giftDialog.vue";var v=h.exports,_=i("t3Un");function b(e){return Object(_.a)({url:"li_bao_deng_ji/index",method:"get",params:e})}function y(e){return Object(_.a)({url:"li_bao_deng_ji/add",method:"post",data:e})}function k(e){return Object(_.a)({url:"li_bao_deng_ji/edit",method:"post",data:e})}function w(e){return Object(_.a)({url:"li_bao_deng_ji/delete",method:"post",data:e})}var x=i("7Qib"),S=i("2nGb"),D=i("pZ2K"),Q=i("8t5x"),F={components:{Pagination:c.a,giftDialog:v},mixins:[D.a],data:function(){return{listQuery:{gameid:"",openid:"",giftpacks_type:"",kefu:"",giftpacks_addtime:"",page:1,limit:8},endDateOpt:{disabledDate:function(e){return e.getTime()>(new Date).getTime()}},loading:!1,exportLoading:!1,giftDialog:!1,batch:!1,operateType:"",giftInfo:{},total:3,dialogTitle:"",multipleSelection:[],multipleSelectionAll:[],idKey:"personId",giftsRegList:[],tableData:[],batchIds:[]}},computed:s()({styleWidth:function(){return{width:"230px"}}},Object(Q.b)(["rules","userid"])),created:function(){var e=this;setTimeout(function(){e.getGiftRegList(),e.tableData=e._filterGiftRegList(e.giftsRegList)},20)},methods:{getGiftRegList:function(){var e=this;return o()(n.a.mark(function t(){var i,a,l,o,r,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={gameid:e.listQuery.gameid,kefuid:e.listQuery.kefu,openid:e.listQuery.openid,giftpacks_type:e.listQuery.giftpacks_type,add_time:e.listQuery.giftpacks_addtime,pageSize:e.listQuery.limit,pageNumber:e.listQuery.page},e.loading=!0,t.next=4,b(i);case 4:a=t.sent,l=a.code,o=a.data,r=o.total,s=o.rows,e.loading=!1,l===S.a&&(e.total=r,e.tableData=e._filterGiftRegList(s),e.$nextTick(function(){e.setSelectRow()}));case 11:case"end":return t.stop()}},t,e)}))()},onQuery:function(){this.listQuery.page=1,this.getGiftRegList()},onReset:function(e){this.$refs[e].resetFields(),this.listQuery.amount2="",this.listQuery.page=1,this.getGiftRegList()},modifyGift:function(e){this._canEdit(e)?(this.dialogTitle="礼包修改",this.operateType="on-modify",this._showSingleDialog(e)):this.$message({type:"warning",message:"您没有权限修改其他客服人员的用户礼包！"})},registerGift:function(e){if(this._canEdit(e)){var t=s()({},e,{giftpacks_type:"",giftpacks_content:""});this.dialogTitle="礼包登记",this.operateType="on-register",this._showSingleDialog(t)}else this.$message({type:"warning",message:"您没有权限登记其他客服人员的用户礼包！"})},deleteGift:function(e){var t=this;if(this._canEdit(e)){var i=e.id;this.$confirm("此操作将永久删除该用户礼包信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.handleDeleteGift(i)}).catch(function(){})}else this.$message({type:"warning",message:"您没有权限删除其他客服人员的用户礼包！"})},handleDeleteGift:function(e){var t=this;return o()(n.a.mark(function i(){var a,l,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,w({id:e});case 2:a=i.sent,l=a.code,o=a.msg,l===S.a?(t.$message({type:"success",message:o}),t.getGiftRegList(),t.giftDialog=!1):t.$message({type:"warning",message:o});case 6:case"end":return i.stop()}},i,t)}))()},handleDownload:function(e){var t=this;return o()(n.a.mark(function a(){var l;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l=void 0,"all"!==e){a.next=10;break}return a.next=4,t.getAllList();case 4:if(l=a.sent){a.next=8;break}return t.$message({type:"warning",message:"服务器出错了，请稍后再试！"}),a.abrupt("return",!1);case 8:a.next=16;break;case 10:if(!t.multipleSelectionAll.length){a.next=14;break}l=t.multipleSelectionAll,a.next=16;break;case 14:return t.$message({type:"warning",message:"请选择要导出的数据！"}),a.abrupt("return",!1);case 16:Promise.all([i.e("chunk-a186"),i.e("chunk-963e")]).then(i.bind(null,"S/jZ")).then(function(e){var i=t.formatJson(["gamename","clientid","openid","roleid","pay_amount","giftpacks_type","giftpacks_addtime","giftpacks_content","kefu"],l);e.export_json_to_excel({header:["隶属游戏","区服","用户ID","角色ID","上月充值额度","礼包分类","登记时间","礼包内容","所属客服"],data:i,autoWidth:!0,filename:"礼包登记"+Object(x.a)("{y}{m}{d}{h}{i}{s}")})});case 17:case"end":return a.stop()}},a,t)}))()},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"giftpacks_addtime"===e?Object(x.f)(t[e]):t[e]})})},handleSelectionChange:function(e){var t=this;this.multipleSelection=e,setTimeout(function(){t.changePageCoreRecordData()},50)},handleAllModify:function(){this._isSameGift()&&(this.dialogTitle="批量修改",this.batch=!0,this.operateType="on-batchModify",this.giftInfo=this.multipleSelection[0],this.batchIds=this.multipleSelectionAll.map(function(e){return e.id}),this.giftDialog=!0)},handleRegister:function(e){var t=this;return o()(n.a.mark(function i(){var a,l,o,r;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a={openid:e.openid,roleid:e.roleid,gameid:e.gameid,clientid:e.clientid,giftpacks_type:e.giftpacks_type,giftpacks_content:e.giftpacks_content},i.next=3,y(a);case 3:l=i.sent,o=l.code,r=l.msg,o===S.a?(t.$message({type:"success",message:"礼包登记成功"}),t.getGiftRegList(),t.giftDialog=!1):t.$message({type:"warning",message:r});case 7:case"end":return i.stop()}},i,t)}))()},handleModify:function(e){var t=this;return o()(n.a.mark(function i(){var a,l,o,r;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a={id:e.id,giftpacks_type:e.giftpacks_type,giftpacks_content:e.giftpacks_content},i.next=3,k(a);case 3:l=i.sent,o=l.code,r=l.msg,o===S.a?(t.$message({type:"success",message:"礼包编辑成功"}),t.getGiftRegList(),t.giftDialog=!1):t.$message({type:"warning",message:r});case 7:case"end":return i.stop()}},i,t)}))()},handleBatchModify:function(e){var t=this;return o()(n.a.mark(function i(){var a,l,o,r;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a={id:t.batchIds.join(","),giftpacks_type:e.giftpacks_type,giftpacks_content:e.giftpacks_content},i.next=3,k(a);case 3:l=i.sent,o=l.code,r=l.msg,o===S.a?(t.$message({type:"success",message:"礼包批量修改成功"}),t.getGiftRegList(),t.giftDialog=!1):t.$message({type:"warning",message:r});case 7:case"end":return i.stop()}},i,t)}))()},setSelectRow:function(){if(this.multipleSelectionAll&&!(this.multipleSelectionAll.length<=0)){var e=this.idKey,t=[];this.multipleSelectionAll.forEach(function(i){t.push(i[e])}),this.$refs.table.clearSelection();for(var i=0;i<this.tableData.length;i++)t.indexOf(this.tableData[i][e])>=0&&this.$refs.table.toggleRowSelection(this.tableData[i],!0)}},changePageCoreRecordData:function(){var e=this,t=this.idKey;if(this.multipleSelectionAll.length<=0)this.multipleSelectionAll=this.multipleSelection;else{var i=[];this.multipleSelectionAll.forEach(function(e){i.push(e[t])});var a=[];this.multipleSelection.forEach(function(n){a.push(n[t]),i.indexOf(n[t])<0&&e.multipleSelectionAll.push(n)});var n=[];this.tableData.forEach(function(e){a.indexOf(e[t])<0&&n.push(e[t])}),n.forEach(function(a){if(i.indexOf(a)>=0)for(var n=0;n<e.multipleSelectionAll.length;n++)if(e.multipleSelectionAll[n][t]===a){e.multipleSelectionAll.splice(n,1);break}})}},handlePagination:function(){this.changePageCoreRecordData(),this.getGiftRegList()},getAllList:function(){var e=this;return o()(n.a.mark(function t(){var i,a,l,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={gameid:e.listQuery.gameid,kefuid:e.listQuery.kefu,openid:e.listQuery.openid,giftpacks_type:e.listQuery.giftpacks_type,add_time:e.listQuery.giftpacks_addtime,pageSize:e.total},e.exportLoading=!0,t.prev=2,t.next=5,b(i);case 5:if(a=t.sent,l=a.code,o=a.data.rows,e.exportLoading=!1,l!==S.a){t.next=13;break}return t.abrupt("return",e._filterGiftRegList(o));case 13:return t.abrupt("return",!1);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),e.exportLoading=!1,e.$msgbox({title:"出错了",message:"由于数据量太大，服务器承受不了压力了呀，您可以稍后再试，或者通过筛选导出部分数据！",confirmButtonText:"确定",type:"warning",callback:function(e){}});case 20:case"end":return t.stop()}},t,e,[[2,16]])}))()},objectSpanMethod:function(e){var t=e.row,i=(e.column,e.rowIndex,e.columnIndex);if(0!==i&&6!==i&&8!==i&&7!==i&&10!==i)return t.mergenum>0?{rowspan:t.mergenum,colspan:1}:{rowspan:0,colspan:0}},_isSameGift:function(){var e=this;return this.multipleSelectionAll.length<=0?(this.$message({message:"请选择要操作的数据！",type:"warning"}),!1):!!this.multipleSelectionAll.every(function(t){return t.gamename===e.multipleSelectionAll[0].gamename&&t.giftpacks_type===e.multipleSelectionAll[0].giftpacks_type})||(this.$message({message:"仅可对同一游戏的同一种礼包分类进行批量操作！",type:"warning"}),!1)},_canEdit:function(e){return parseInt(this.userid)===parseInt(e.kefuid)||1===parseInt(this.userid)},_showSingleDialog:function(e){this.batch=!1,this.giftInfo=e,this.giftDialog=!0},_filterGiftRegList:function(e){for(var t=[],i=0,a=0;a<e.length;a++){var n=e[a];if(n.giftpacks.length>0)for(var l=0;l<n.giftpacks.length;l++)t.push({personId:this.listQuery.page+"_"+a+"_"+l,openid:n.openid,roleid:n.roleid,gameid:n.gameid,clientid:n.clientid,kefuid:n.kefuid,gamename:n.gamename,kefu:n.kefu,pay_amount:n.pay_amount,giftpacks_type:n.giftpacks[l].giftpacks_type,giftpacks_content:n.giftpacks[l].giftpacks_content,giftpacks_addtime:n.giftpacks[l].giftpacks_addtime,id:n.giftpacks[l].id}),0===l&&(t[i].mergenum=n.giftpacks.length),i++;else t.push({personId:this.listQuery.page+"_"+a,openid:n.openid,roleid:n.roleid,gameid:n.gameid,clientid:n.clientid,kefuid:n.kefuid,gamename:n.gamename,kefu:n.kefu,pay_amount:n.pay_amount,giftpacks_addtime:"",giftpacks_type:"",giftpacks_content:"",mergenum:1}),i++}return t}}},$=(i("mBPx"),Object(m.a)(F,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{ref:"giftsForm",staticClass:"form-inline",attrs:{inline:!0,model:e.listQuery,"label-width":"90px"}},[i("el-form-item",{attrs:{label:"隶属游戏",prop:"gameid"}},[i("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"全部游戏"},model:{value:e.listQuery.gameid,callback:function(t){e.$set(e.listQuery,"gameid",t)},expression:"listQuery.gameid"}},e._l(e.gamenameList,function(e,t){return i("el-option",{key:t,attrs:{label:e.gamename,value:e.gameid}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"用户ID",prop:"openid"}},[i("el-input",{style:e.styleWidth,attrs:{placeholder:"请输入"},model:{value:e.listQuery.openid,callback:function(t){e.$set(e.listQuery,"openid",t)},expression:"listQuery.openid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"礼包分类",prop:"giftpacks_type"}},[i("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:e.listQuery.giftpacks_type,callback:function(t){e.$set(e.listQuery,"giftpacks_type",t)},expression:"listQuery.giftpacks_type"}},[i("el-option",{attrs:{label:"1月返利礼包",value:"1月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"2月返利礼包",value:"2月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"3月返利礼包",value:"3月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"4月返利礼包",value:"4月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"5月返利礼包",value:"5月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"6月返利礼包",value:"6月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"7月返利礼包",value:"7月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"8月返利礼包",value:"8月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"9月返利礼包",value:"9月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"10月返利礼包",value:"10月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"11月返利礼包",value:"11月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"12月返利礼包",value:"12月返利礼包"}}),e._v(" "),i("el-option",{attrs:{label:"其他礼包1",value:"其他礼包1"}}),e._v(" "),i("el-option",{attrs:{label:"其他礼包2",value:"其他礼包2"}}),e._v(" "),i("el-option",{attrs:{label:"其他礼包3",value:"其他礼包3"}}),e._v(" "),i("el-option",{attrs:{label:"生日礼包",value:"生日礼包"}}),e._v(" "),i("el-option",{attrs:{label:"见面礼包",value:"见面礼包"}}),e._v(" "),i("el-option",{attrs:{label:"周登记礼包",value:"周登记礼包"}}),e._v(" "),i("el-option",{attrs:{label:"周充值礼包",value:"周充值礼包"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"所属客服",prop:"kefu"}},[i("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:e.listQuery.kefu,callback:function(t){e.$set(e.listQuery,"kefu",t)},expression:"listQuery.kefu"}},[e._l(e.customerList,function(e,t){return i("el-option",{key:t,attrs:{label:e.nick_name,value:e.id}})}),e._v(" "),i("el-option",{attrs:{label:"小飞狼",value:"1"}})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"登记时间",prop:"giftpacks_addtime"}},[i("el-date-picker",{style:e.styleWidth,attrs:{"picker-options":e.endDateOpt,"value-format":"yyyy-MM",format:"yyyy 年 MM 月",type:"month",placeholder:"选择月"},model:{value:e.listQuery.giftpacks_addtime,callback:function(t){e.$set(e.listQuery,"giftpacks_addtime",t)},expression:"listQuery.giftpacks_addtime"}})],1),e._v(" "),i("el-form-item",{staticStyle:{"margin-left":"20px"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onQuery}},[e._v("查询")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.onReset("giftsForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),i("div",{staticClass:"top-operate"},[e.rules.GiftsRegExport?i("el-button",{attrs:{icon:"el-icon-download",type:"primary",size:"mini"},on:{click:e.handleDownload}},[e._v("批量导出")]):e._e(),e._v(" "),e.rules.GiftsRegExportAll?i("el-button",{attrs:{loading:e.exportLoading,icon:"el-icon-download",type:"primary",size:"mini"},on:{click:function(t){return e.handleDownload("all")}}},[e._v("全部导出")]):e._e(),e._v(" "),e.rules.GiftsRegBatchModify?i("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},on:{click:e.handleAllModify}},[e._v("批量修改")]):e._e()],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"span-method":e.objectSpanMethod,border:"",fit:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"36"}}),e._v(" "),i("el-table-column",{attrs:{label:"隶属游戏",fixed:"",width:"180",prop:"gamename",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"区服",width:"100",prop:"clientid",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户ID","min-width":"100",prop:"openid",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"角色ID","min-width":"100",prop:"roleid",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"上月充值额度",width:"120",prop:"pay_amount",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"登记时间",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._f("parseTime")(t.row.giftpacks_addtime)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"礼包分类",align:"center","class-name":"merge-cell"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.giftpacks_type||"-"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"礼包内容","min-width":"260",align:"center","class-name":"merge-cell"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.giftpacks_content||"-"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所属客服",prop:"kefu",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"128",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[i("el-dropdown",[i("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n              操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.rules.GiftsRegReg?i("el-dropdown-item",{nativeOn:{click:function(i){return e.registerGift(t.row)}}},[e._v("登记")]):e._e(),e._v(" "),t.row.giftpacks_addtime&&e.rules.GiftsRegModify?i("el-dropdown-item",{nativeOn:{click:function(i){return e.modifyGift(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),e.rules.GiftsRegDelete?i("el-dropdown-item",{nativeOn:{click:function(i){return e.deleteGift(t.row)}}},[e._v("删除")]):e._e()],1)],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.handlePagination}}),e._v(" "),i("gift-dialog",{attrs:{visible:e.giftDialog,title:e.dialogTitle,"gift-info":e.giftInfo,batch:e.batch,type:e.operateType,width:"500px"},on:{"update:visible":function(t){e.giftDialog=t},"on-register":e.handleRegister,"on-batchModify":e.handleBatchModify,"on-modify":e.handleModify}})],1)},[],!1,null,"091d3374",null));$.options.__file="index.vue";t.default=$.exports},cz0o:function(e,t,i){},mBPx:function(e,t,i){"use strict";var a=i("QBoE");i.n(a).a},pZ2K:function(e,t,i){"use strict";var a=i("cLjf"),n=i.n(a),l=i("hDQ3"),o=i.n(l),r=i("Nlzp"),s=i("2nGb");t.a={data:function(){return{gamenameList:[],customerList:[]}},created:function(){var e=this;setTimeout(function(){e.getGameNameList(),e.getCustomerList()},20)},methods:{getGameNameList:function(){var e=this;return o()(n.a.mark(function t(){var i,a,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.b)();case 2:i=t.sent,a=i.code,l=i.data,a===s.a&&(e.gamenameList=l);case 6:case"end":return t.stop()}},t,e)}))()},getCustomerList:function(){var e=this;return o()(n.a.mark(function t(){var i,a,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)();case 2:i=t.sent,a=i.code,l=i.data,a===s.a&&(e.customerList=l);case 6:case"end":return t.stop()}},t,e)}))()}}}},qqUa:function(e,t,i){"use strict";var a=i("cz0o");i.n(a).a}}]);