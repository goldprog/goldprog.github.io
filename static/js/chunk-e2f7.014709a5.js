(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e2f7"],{"//if":function(e,t,a){"use strict";var l=a("xPuz");a.n(l).a},"6tI0":function(e,t,a){"use strict";a.r(t);var l=a("cLjf"),i=a.n(l),n=a("EPZ6"),s=a.n(n),r=a("hDQ3"),o=a.n(r),u=a("bS4n"),c=a.n(u),p=a("Mz3J"),d=a("6ZY3"),m=a.n(d),y=a("IL3p"),f=a.n(y),b={props:{gameDialogVisible:{type:Boolean,required:!0},title:{type:String,default:"请选择游戏"},allGames:{type:Array,default:function(){return[]}},selectGames:{type:Array,default:function(){return[]}}},data:function(){return{type:[]}},methods:{handleOpen:function(){console.log(this.selectGames),this.type=f()(this.selectGames)},handleCancel:function(){this.type=[],this.$emit("update:gameDialogVisible",!1)},handleConfirm:function(){this.$emit("on-confirm",this.type)}}},h=(a("c7EX"),a("ETRx"),a("ZrdR")),g=Object(h.a)(b,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.gameDialogVisible,title:e.title,"append-to-body":"",width:"36%"},on:{open:e.handleOpen,close:e.handleCancel}},[a("div",{staticClass:"checkbox-container"},[a("el-checkbox-group",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.allGames,function(t,l){return a("el-checkbox",{key:l,attrs:{label:t.id}},[e._v(e._s(t.gamename))])}),1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)])},[],!1,null,"630e8973",null);g.options.__file="chooseGameDialog.vue";var _=g.exports,v={props:{playerDialogVisible:{type:Boolean,required:!0},title:{type:String,default:"请选择标签"},selectTags:{type:Array,default:function(){return[]}},allPlayerTags:{type:Array,default:function(){return[]}}},data:function(){return{type:[]}},methods:{handleOpen:function(){this.type=f()(this.selectTags)},handleCancel:function(){this.type=[],this.$emit("update:playerDialogVisible",!1)},handleConfirm:function(){this.$emit("on-confirm",this.type)}}},k=(a("//if"),a("I7iU"),Object(h.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.playerDialogVisible,title:e.title,"append-to-body":"",width:"36%"},on:{open:e.handleOpen,close:e.handleCancel}},[a("div",{staticClass:"checkbox-container"},[a("el-checkbox-group",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.allPlayerTags,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e}})}),1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)])},[],!1,null,"57c80886",null));k.options.__file="choosePlayerDialog.vue";var Q=k.exports,x=a("Yfch"),w=a("8t5x"),D=[{key:"Longtugame",display_name:"龙图游戏"},{key:"Other",display_name:"其他"}].reduce(function(e,t){return e[t.key]=t.display_name,e},{}),L={components:{chooseGameDialog:_,choosePlayerDialog:Q},filters:{platformFilter:function(e){return D[e]}},props:{visibility:{type:Boolean,required:!0},type:{type:String,required:!0},title:{type:String,required:!0},data:{type:Object,default:function(){return{}}},allPlayerTags:{type:Array,default:function(){return[]}},allGames:{type:Object,default:function(){return{}}},buttonDisable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"10vh"},confirmBtnText:{type:String,default:"确定"}},data:function(){var e=function(e,t,a){t?Object(x.c)(t)?a():a(new Error("手机号码不符合规则")):a()};return{gameDialogVisible:!1,playerDialogVisible:!1,listQuery:{gameid:"",clientid:"",openid:"",roleid:"",qq:"",sex:"",mobile:"",mobile2:"",username:"",birthday:"",location:"",country:"",kefu:"",amount:""},gamesLabelList:[],allGamesName:[],allGamesList:[],playerLabelList:[],rules:{qq:[{required:!0,message:"请填写QQ号",trigger:"blur"}],mobile:[{validator:e,trigger:"blur"}],mobile2:[{validator:e,trigger:"blur"}]}}},computed:c()({styleWidth:function(){return{width:"180px"}},selectGameid:function(){return this.gamesLabelList.map(function(e){return e.id})}},Object(w.b)(["nick_name"])),mounted:function(){console.log(window.screen.availHeight)},methods:{handleOpen:function(){var e=f()(this.data),t=e.usergames||[];this.listQuery=m()({},this.listQuery,e),this.listQuery.birthday=this.listQuery.birthday?1e3*parseInt(this.listQuery.birthday):"",this.listQuery.kefu||(this.listQuery.kefu=this.nick_name),this.playerLabelList=e.playertags||[],this.gamesLabelList=this.getNameAndItem(this.allGames,t)},handleCancel:function(){this.listQuery={},this.allGamesName=[],this.allGamesList=[],this.$refs.vipForm.clearValidate(),this.$emit("update:visibility",!1)},handleConfirm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=c()({},t.listQuery,{birthday:t.listQuery.birthday?parseInt(t.listQuery.birthday)/1e3:"",usergames:t.selectGameid,playertags:t.playerLabelList});t.$emit(t.type,a)})},handleSelectGame:function(e){this.gamesLabelList=this._getGameList(this.allGamesList,e),this.gameDialogVisible=!1},openGameDialog:function(){this.gameDialogVisible=!0},openPlayerDialog:function(){this.playerDialogVisible=!0},getNameAndItem:function(e,t){for(var a in e)this.allGamesName.push({id:e[a].id,gamename:e[a].gamename}),this.allGamesList.push(e[a]);return this._getGameList(this.allGamesList,t)},handleSelectTags:function(e){this.playerLabelList=e,this.playerDialogVisible=!1},_getGameList:function(e,t){var a=[];t=t.map(Number);for(var l=0;l<t.length;l++)for(var i=0;i<e.length;i++)t[l]===e[i].id&&a.push(e[i]);return a}}},$=(a("O8LE"),Object(h.a)(L,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visibility,title:e.title,fullscreen:e.fullscreen,top:e.top,width:"80%"},on:{open:e.handleOpen,close:e.handleCancel}},[a("el-form",{ref:"vipForm",staticClass:"form-inline",attrs:{inline:!0,model:e.listQuery,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"隶属游戏"}},[a("el-input",{style:e.styleWidth,attrs:{disabled:!0},model:{value:e.listQuery.gameid,callback:function(t){e.$set(e.listQuery,"gameid",t)},expression:"listQuery.gameid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区服"}},[a("el-input",{style:e.styleWidth,attrs:{disabled:!0},model:{value:e.listQuery.clientid,callback:function(t){e.$set(e.listQuery,"clientid",t)},expression:"listQuery.clientid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{style:e.styleWidth,attrs:{disabled:!0},model:{value:e.listQuery.openid,callback:function(t){e.$set(e.listQuery,"openid",t)},expression:"listQuery.openid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色ID"}},[a("el-input",{style:e.styleWidth,attrs:{disabled:!0},model:{value:e.listQuery.roleid,callback:function(t){e.$set(e.listQuery,"roleid",t)},expression:"listQuery.roleid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"累计充值金额"}},[a("el-input",{style:e.styleWidth,attrs:{disabled:!0},model:{value:e.listQuery.amount,callback:function(t){e.$set(e.listQuery,"amount",t)},expression:"listQuery.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属客服"}},[a("el-input",{style:e.styleWidth,attrs:{disabled:!0},model:{value:e.listQuery.kefu,callback:function(t){e.$set(e.listQuery,"kefu",t)},expression:"listQuery.kefu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{style:e.styleWidth,model:{value:e.listQuery.qq,callback:function(t){e.$set(e.listQuery,"qq",t)},expression:"listQuery.qq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"resource"}},[a("el-radio-group",{style:e.styleWidth,model:{value:e.listQuery.sex,callback:function(t){e.$set(e.listQuery,"sex",t)},expression:"listQuery.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{style:e.styleWidth,model:{value:e.listQuery.mobile,callback:function(t){e.$set(e.listQuery,"mobile",t)},expression:"listQuery.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备用手机号",prop:"mobile2"}},[a("el-input",{style:e.styleWidth,model:{value:e.listQuery.mobile2,callback:function(t){e.$set(e.listQuery,"mobile2",t)},expression:"listQuery.mobile2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{style:e.styleWidth,model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{style:e.styleWidth,attrs:{"value-format":"timestamp",type:"date",placeholder:"选择日期"},model:{value:e.listQuery.birthday,callback:function(t){e.$set(e.listQuery,"birthday",t)},expression:"listQuery.birthday"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所在地"}},[a("el-input",{style:e.styleWidth,model:{value:e.listQuery.location,callback:function(t){e.$set(e.listQuery,"location",t)},expression:"listQuery.location"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"国籍"}},[a("el-input",{style:e.styleWidth,model:{value:e.listQuery.country,callback:function(t){e.$set(e.listQuery,"country",t)},expression:"listQuery.country"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户游戏标签"}},[a("span",{staticClass:"select-tags"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.openGameDialog}},[e._v("管理用户标签")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"玩家认定标签"}},[a("span",{staticClass:"select-tags"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.openPlayerDialog}},[e._v("管理用户标签")])],1)])],1),e._v(" "),e.gamesLabelList.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.gamesLabelList,border:"",fit:""}},[a("el-table-column",{attrs:{label:"游戏名称",width:"150",prop:"gamename",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属平台",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("platformFilter")(t.row.platform))+"\n      ")]}}],null,!1,1656985284)}),e._v(" "),a("el-table-column",{staticClass:"tags-item",attrs:{label:"玩法标签"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.play_tags,function(t,l){return a("el-tag",{key:l,staticClass:"tag",attrs:{type:"info"}},[e._v(e._s(t))])})}}],null,!1,2719446709)}),e._v(" "),a("el-table-column",{staticClass:"tags-item",attrs:{label:"风格标签"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.style_tags,function(t,l){return a("el-tag",{key:l,staticClass:"tag",attrs:{type:"info"}},[e._v(e._s(t))])})}}],null,!1,4163140326)})],1):e._e(),e._v(" "),e.playerLabelList.length>0?a("div",{staticClass:"player-label-container"},[a("h1",{staticClass:"title-first"},[e._v("玩家认定标签")]),e._v(" "),e._l(e.playerLabelList,function(t,l){return a("el-tag",{key:l,staticClass:"tag",attrs:{type:"info"}},[e._v(e._s(t))])})],2):e._e(),e._v(" "),a("choose-game-dialog",{attrs:{"game-dialog-visible":e.gameDialogVisible,"all-games":e.allGamesName,"select-games":e.selectGameid},on:{"update:gameDialogVisible":function(t){e.gameDialogVisible=t},"update:game-dialog-visible":function(t){e.gameDialogVisible=t},"on-confirm":e.handleSelectGame}}),e._v(" "),a("choose-player-dialog",{attrs:{"player-dialog-visible":e.playerDialogVisible,"select-tags":e.playerLabelList,"all-player-tags":e.allPlayerTags},on:{"update:playerDialogVisible":function(t){e.playerDialogVisible=t},"update:player-dialog-visible":function(t){e.playerDialogVisible=t},"on-confirm":e.handleSelectTags}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{disabled:e.buttonDisable,type:"primary"},on:{click:function(t){return e.handleConfirm("vipForm")}}},[e._v(e._s(e.confirmBtnText))])],1)],1)},[],!1,null,"0c1f27ae",null));$.options.__file="index.vue";var T=$.exports,C=a("2nGb"),S=a("7Qib"),V=a("t3Un");function O(e){return Object(V.a)({url:"/user/vipList",method:"post",data:e})}function G(e){return Object(V.a)({url:"/user/vipAdd",method:"post",data:e})}function I(e){return Object(V.a)({url:"/user/vipEdit",method:"post",data:e})}function q(e){return Object(V.a)({url:"/user/vipDel",method:"post",data:e})}var z=a("qiqx"),W={last_login_time:1,last_payment_time:2,amount:3},A={name:"VipPage",components:{Pagination:p.a,AuthenDialog:T},mixins:[z.a],data:function(){return{total:0,authenDialog:!1,loading:!0,exportLoading:!1,dialogTitle:"",playerTags:[],authenType:"",listQuery:{gameid:"",openid:"",roleid:"",lost_status:"",last_login_time:"",last_payment_time:"",amount1:"",amount2:"",rz_status:"",kefuid:"",page:1,limit:10},gameNames:null,gameList:[],kefuList:[],orderby:"",vipList:[],authenData:{},buttonDisable:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},computed:c()({styleWidth:function(){return{width:"230px"}}},Object(w.b)(["userid","rules"])),created:function(){var e=this;setTimeout(function(){e.getVipList()},20)},methods:{getVipList:function(){var e=this;return o()(i.a.mark(function t(){var a,l,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c()({},e.listQuery,{orderby:e.orderby}),e.loading=!0,t.next=4,O(a);case 4:l=t.sent,n=l.code,r=l.data,e.loading=!1,n===C.a&&(e.vipList=r.list,e.total=r.total,e.kefuList=r.kefuOptions,e.playerTags=r.playerTags,e.gameNames=r.gameNames,e.gameList=s()(r.gameOptions).map(function(e){return{value:e,label:r.gameOptions[e]}}));case 9:case"end":return t.stop()}},t,e)}))()},onQuery:function(){this.listQuery.page=1,this.getVipList()},onReset:function(e){this.$refs[e].resetFields(),this.listQuery.amount2="",this.listQuery.page=1,this.getVipList()},deleteAuthen:function(e){var t=this;if(this._canEdit(e)){var a=e.id,l=e.openid;this.$confirm("此操作将永久删除该用户认证信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.handleDeleteAuthen(a,l)}).catch(function(){})}else this.$message({type:"warning",message:"抱歉，您只能删除您自己认证过的用户！"})},handleDeleteAuthen:function(e,t){var a=this;return o()(i.a.mark(function l(){var n,s,r;return i.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,q({id:e,openid:t});case 2:n=l.sent,s=n.code,r=n.msg,s===C.a?(a.$message({type:"success",message:r}),a.getVipList()):a.$message({type:"warning",message:r});case 6:case"end":return l.stop()}},l,a)}))()},editIndentfy:function(e){this._canEdit(e)?(this.authenData=e,this.authenType="on-editIndentify",this.dialogTitle="编辑认证",this.authenDialog=!0):this.$message({type:"warning",message:"抱歉，您只能编辑您自己认证过的用户！"})},handleEditIndentify:function(e){var t=this;return o()(i.a.mark(function a(){var l,n,s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.buttonDisable=!0,a.prev=1,a.next=4,I(e);case 4:l=a.sent,n=l.code,s=l.msg,t.buttonDisable=!1,n===C.a?(t.$message({type:"success",message:s}),t.getVipList(),t.authenDialog=!1):t.$message({type:"warning",message:s}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.buttonDisable=!1;case 14:case"end":return a.stop()}},a,t,[[1,11]])}))()},identificate:function(e){this.authenData=e,this.authenType="on-indentify",this.dialogTitle="用户认证",this.authenDialog=!0},handleIndentify:function(e){var t=this;return o()(i.a.mark(function a(){var l,n,s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.buttonDisable=!0,a.prev=1,a.next=4,G(e);case 4:l=a.sent,n=l.code,s=l.msg,t.buttonDisable=!1,n===C.a?(t.$message({type:"success",message:s}),t.getVipList(),t.authenDialog=!1):t.$message({type:"warning",message:s}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.buttonDisable=!1;case 14:case"end":return a.stop()}},a,t,[[1,11]])}))()},sortChange:function(e){var t=e.prop,a=e.order,l=W[t],i="ascending"===a?"asc":"desc";this.orderby=l?l+"|"+i:"",this.listQuery.page=1,this.getVipList()},handleDownload:function(){var e=this;return o()(i.a.mark(function t(){var l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllVipList();case 2:if(l=t.sent){t.next=5;break}return t.abrupt("return");case 5:Promise.all([a.e("chunk-a186"),a.e("chunk-963e")]).then(a.bind(null,"S/jZ")).then(function(t){var a=e._formatJson(["gamename","clientid","openid","roleid","last_login_time","last_payment_time","amount","consume_sum","lost_status","qq","mobile","mobile2","birthday","rz_status","kefu"],l);t.export_json_to_excel({header:["隶属游戏","区服","用户ID","角色ID","最后登录时间","最后充值时间","累计充值额度","货币消耗","玩家状态","QQ","手机","备用手机","生日","认证状态","所属客服"],data:a,autoWidth:!0,filename:"vip列表"+Object(S.a)("{y}{m}{d}{h}{i}{s}")})});case 6:case"end":return t.stop()}},t,e)}))()},_canEdit:function(e){return parseInt(this.userid)===parseInt(e.kefuid)||1===parseInt(this.userid)},getAllVipList:function(){var e=this;return o()(i.a.mark(function t(){var a,l,n,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c()({},e.listQuery,{orderby:e.orderby,page:1,limit:e.total}),e.exportLoading=!0,t.prev=2,t.next=5,O(a);case 5:if(l=t.sent,n=l.code,s=l.data,e.exportLoading=!1,n!==C.a){t.next=13;break}return t.abrupt("return",s.list);case 13:return t.abrupt("return",!1);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),e.exportLoading=!1,e.$msgbox({title:"出错了",message:"由于数据量太大，服务器承受不了压力了呀，您可以稍后再试，或者通过筛选导出部分数据！",confirmButtonText:"确定",type:"warning",callback:function(e){}});case 20:case"end":return t.stop()}},t,e,[[2,16]])}))()}}},E=(a("Repp"),Object(h.a)(A,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"vipForm",staticClass:"form-inline",attrs:{inline:!0,model:e.listQuery,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"隶属游戏",prop:"gameid"}},[a("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"全部游戏"},model:{value:e.listQuery.gameid,callback:function(t){e.$set(e.listQuery,"gameid",t)},expression:"listQuery.gameid"}},e._l(e.gameList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID",prop:"openid"}},[a("el-input",{style:e.styleWidth,attrs:{placeholder:"请输入"},model:{value:e.listQuery.openid,callback:function(t){e.$set(e.listQuery,"openid",t)},expression:"listQuery.openid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"玩家状态",prop:"lost_status"}},[a("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:e.listQuery.lost_status,callback:function(t){e.$set(e.listQuery,"lost_status",t)},expression:"listQuery.lost_status"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"流失",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"流失预警",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"付费流失",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"付费流失预警",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"流失回归",value:"6"}}),e._v(" "),a("el-option",{attrs:{label:"流失回归充值",value:"7"}}),e._v(" "),a("el-option",{attrs:{label:"付费流失回归",value:"8"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色ID",prop:"roleid"}},[a("el-input",{style:e.styleWidth,attrs:{placeholder:"请输入"},model:{value:e.listQuery.roleid,callback:function(t){e.$set(e.listQuery,"roleid",t)},expression:"listQuery.roleid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最后登录",prop:"last_login_time"}},[a("el-date-picker",{style:e.styleWidth,attrs:{"picker-options":e.pickerOptions,type:"daterange","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.listQuery.last_login_time,callback:function(t){e.$set(e.listQuery,"last_login_time",t)},expression:"listQuery.last_login_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最后充值",prop:"last_payment_time"}},[a("el-date-picker",{style:e.styleWidth,attrs:{"picker-options":e.pickerOptions,type:"daterange","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.listQuery.last_payment_time,callback:function(t){e.$set(e.listQuery,"last_payment_time",t)},expression:"listQuery.last_payment_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认证状态",prop:"rz_status"}},[a("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:e.listQuery.rz_status,callback:function(t){e.$set(e.listQuery,"rz_status",t)},expression:"listQuery.rz_status"}},[a("el-option",{attrs:{value:1,label:"已认证"}}),e._v(" "),a("el-option",{attrs:{value:2,label:"未认证"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属客服",prop:"kefuid"}},[a("el-select",{style:e.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:e.listQuery.kefuid,callback:function(t){e.$set(e.listQuery,"kefuid",t)},expression:"listQuery.kefuid"}},e._l(e.kefuList,function(e){return a("el-option",{key:e.id,attrs:{label:e.nick_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"充值金额",prop:"amount1"}},[a("el-input",{staticStyle:{width:"105px"},attrs:{placeholder:"请输入"},model:{value:e.listQuery.amount1,callback:function(t){e.$set(e.listQuery,"amount1",t)},expression:"listQuery.amount1"}}),e._v(" "),a("span",{staticClass:"to-divide"},[e._v("至")]),e._v(" "),a("el-input",{staticStyle:{width:"105px"},attrs:{placeholder:"请输入"},model:{value:e.listQuery.amount2,callback:function(t){e.$set(e.listQuery,"amount2",t)},expression:"listQuery.amount2"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onQuery}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.onReset("vipForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"top-operate"},[a("el-button",{attrs:{loading:e.exportLoading,icon:"el-icon-download",type:"primary",size:"mini"},on:{click:e.handleDownload}},[e._v("批量导出")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.vipList,border:"",fit:""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:"隶属游戏",fixed:"",width:"180",prop:"gamename",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"区服",prop:"clientid",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户ID","min-width":"100",prop:"openid",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色ID","min-width":"140",prop:"roleid",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"最后登录时间",sortable:"custom",prop:"last_login_time","min-width":"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("parseTime")(t.row.last_login_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后充值时间",sort:"1",sortable:"custom",prop:"last_payment_time","min-width":"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("parseTime")(t.row.last_payment_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"累计充值额度",sortable:"custom","min-width":"180",prop:"amount",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"货币消耗",width:"120",prop:"consume_sum",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"玩家状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("typeLostStatus")(t.row.lost_status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"QQ","min-width":"150",prop:"qq",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"手机","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("emptyToString")(t.row.mobile)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备用手机",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("emptyToString")(t.row.mobile2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"生日",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("parseTime")(t.row.birthday,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"认证情况",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("typeRzStatus")(t.row.rz_status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所属客服","min-width":"120",prop:"kefu",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.rz_status&&e.rules.VipEditAuth?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.editIndentfy(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),0===t.row.rz_status&&e.rules.VipAuth?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.identificate(t.row)}}},[e._v("认证")]):e._e(),e._v(" "),1===t.row.rz_status&&e.rules.VipDelete?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteAuthen(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getVipList}}),e._v(" "),a("authen-dialog",{attrs:{visibility:e.authenDialog,data:e.authenData,"all-player-tags":e.playerTags,"all-games":e.gameNames,type:e.authenType,"button-disable":e.buttonDisable,title:e.dialogTitle,"confirm-btn-text":"确定"},on:{"update:visibility":function(t){e.authenDialog=t},"on-editIndentify":e.handleEditIndentify,"on-indentify":e.handleIndentify}})],1)},[],!1,null,"3e33953e",null));E.options.__file="index.vue";t.default=E.exports},ETRx:function(e,t,a){"use strict";var l=a("bdib");a.n(l).a},FYOT:function(e,t,a){},I7iU:function(e,t,a){"use strict";var l=a("KrPD");a.n(l).a},KrPD:function(e,t,a){},O8LE:function(e,t,a){"use strict";var l=a("g0S3");a.n(l).a},Repp:function(e,t,a){"use strict";var l=a("yps0");a.n(l).a},Yfch:function(e,t,a){"use strict";function l(e){return/^1\d{10}$/.test(e)}function i(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function n(e){return/([a-zA-Z0-9.!@#$%^&*()_?<>{}]){6,20}/.test(e)}function s(e){return/^[a-zA-Z0-9_-]{4,16}$/.test(e)}function r(e){return!["fuck","tmd","他妈的"].includes(e)}a.d(t,"c",function(){return l}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n}),a.d(t,"e",function(){return s}),a.d(t,"d",function(){return r})},bdib:function(e,t,a){},c7EX:function(e,t,a){"use strict";var l=a("FYOT");a.n(l).a},g0S3:function(e,t,a){},qiqx:function(e,t,a){"use strict";var l=a("7Qib"),i=[{key:"1",display_name:"已认证"},{key:"0",display_name:"未认证"}].reduce(function(e,t){return e[t.key]=t.display_name,e},{}),n=[{key:"1",display_name:"正常"},{key:"2",display_name:"流失"},{key:"3",display_name:"流失预警"},{key:"4",display_name:"付费流失"},{key:"5",display_name:"付费流失预警"},{key:"6",display_name:"流失回归"},{key:"7",display_name:"流失回归充值"},{key:"8",display_name:"付费流失回归"}].reduce(function(e,t){return e[t.key]=t.display_name,e},{});t.a={filters:{typeRzStatus:function(e){return i[e]},typeLostStatus:function(e){return n[e]}},methods:{_formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"last_login_time"===e||"last_payment_time"===e||"birthday"===e||"last_revisit_time"===e?Object(l.f)(t[e]):"rz_status"===e?i[t[e]]:"lost_status"===e?n[t[e]]:t[e]})})}}}},xPuz:function(e,t,a){},yps0:function(e,t,a){}}]);