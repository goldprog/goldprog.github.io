(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0422"],{"//if":function(t,e,n){"use strict";var a=n("xPuz");n.n(a).a},"4sIl":function(t,e,n){},"6tI0":function(t,e,n){"use strict";n.r(e);var a=n("cLjf"),i=n.n(a),r=n("EPZ6"),l=n.n(r),o=n("hDQ3"),s=n.n(o),u=n("bS4n"),c=n.n(u),p=n("Mz3J"),d=n("6ZY3"),f=n.n(d),m=n("IL3p"),y=n.n(m),h={props:{gameDialogVisible:{type:Boolean,required:!0},title:{type:String,default:"请选择游戏"},allGames:{type:Array,default:function(){return[]}},selectGames:{type:Array,default:function(){return[]}}},data:function(){return{type:[]}},methods:{handleOpen:function(){console.log(this.selectGames),this.type=y()(this.selectGames)},handleCancel:function(){this.type=[],this.$emit("update:gameDialogVisible",!1)},handleConfirm:function(){this.$emit("on-confirm",this.type)}}},g=(n("c7EX"),n("ETRx"),n("ZrdR")),v=Object(g.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.gameDialogVisible,title:t.title,"append-to-body":"",width:"36%"},on:{open:t.handleOpen,close:t.handleCancel}},[n("div",{staticClass:"checkbox-container"},[n("el-checkbox-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.allGames,function(e,a){return n("el-checkbox",{key:a,attrs:{label:e.id}},[t._v(t._s(e.gamename))])}),1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleConfirm}},[t._v("确 定")])],1)])},[],!1,null,"630e8973",null);v.options.__file="chooseGameDialog.vue";var b=v.exports,_={props:{playerDialogVisible:{type:Boolean,required:!0},title:{type:String,default:"请选择标签"},selectTags:{type:Array,default:function(){return[]}},allPlayerTags:{type:Array,default:function(){return[]}}},data:function(){return{type:[]}},methods:{handleOpen:function(){this.type=y()(this.selectTags)},handleCancel:function(){this.type=[],this.$emit("update:playerDialogVisible",!1)},handleConfirm:function(){this.$emit("on-confirm",this.type)}}},k=(n("//if"),n("I7iU"),Object(g.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.playerDialogVisible,title:t.title,"append-to-body":"",width:"36%"},on:{open:t.handleOpen,close:t.handleCancel}},[n("div",{staticClass:"checkbox-container"},[n("el-checkbox-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.allPlayerTags,function(t,e){return n("el-checkbox",{key:e,attrs:{label:t}})}),1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleConfirm}},[t._v("确 定")])],1)])},[],!1,null,"57c80886",null));k.options.__file="choosePlayerDialog.vue";var w=k.exports,x=n("Yfch"),Q=n("8t5x"),L=[{key:"Longtugame",display_name:"龙图游戏"},{key:"Other",display_name:"其他"}].reduce(function(t,e){return t[e.key]=e.display_name,t},{}),D={components:{chooseGameDialog:b,choosePlayerDialog:w},filters:{platformFilter:function(t){return L[t]}},props:{visibility:{type:Boolean,required:!0},type:{type:String,required:!0},title:{type:String,required:!0},data:{type:Object,default:function(){return{}}},allPlayerTags:{type:Array,default:function(){return[]}},allGames:{type:Object,default:function(){return{}}},buttonDisable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"10vh"},confirmBtnText:{type:String,default:"确定"}},data:function(){var t=function(t,e,n){e?Object(x.c)(e)?n():n(new Error("手机号码不符合规则")):n()};return{gameDialogVisible:!1,playerDialogVisible:!1,listQuery:{gameid:"",clientid:"",openid:"",roleid:"",qq:"",sex:"",mobile:"",mobile2:"",username:"",birthday:"",location:"",country:"",kefu:"",amount:""},gamesLabelList:[],allGamesName:[],allGamesList:[],playerLabelList:[],rules:{qq:[{required:!0,message:"请填写QQ号",trigger:"blur"}],mobile:[{validator:t,trigger:"blur"}],mobile2:[{validator:t,trigger:"blur"}]}}},computed:c()({styleWidth:function(){return{width:"180px"}},selectGameid:function(){return this.gamesLabelList.map(function(t){return t.id})}},Object(Q.b)(["nick_name"])),mounted:function(){console.log(window.screen.availHeight)},methods:{handleOpen:function(){var t=y()(this.data),e=t.usergames||[];this.listQuery=f()({},this.listQuery,t),this.listQuery.birthday=this.listQuery.birthday?1e3*parseInt(this.listQuery.birthday):"",this.listQuery.kefu||(this.listQuery.kefu=this.nick_name),this.playerLabelList=t.playertags||[],this.gamesLabelList=this.getNameAndItem(this.allGames,e)},handleCancel:function(){this.listQuery={},this.allGamesName=[],this.allGamesList=[],this.$refs.vipForm.clearValidate(),this.$emit("update:visibility",!1)},handleConfirm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var n=c()({},e.listQuery,{birthday:e.listQuery.birthday?parseInt(e.listQuery.birthday)/1e3:"",usergames:e.selectGameid,playertags:e.playerLabelList});e.$emit(e.type,n)})},handleSelectGame:function(t){this.gamesLabelList=this._getGameList(this.allGamesList,t),this.gameDialogVisible=!1},openGameDialog:function(){this.gameDialogVisible=!0},openPlayerDialog:function(){this.playerDialogVisible=!0},getNameAndItem:function(t,e){for(var n in t)this.allGamesName.push({id:t[n].id,gamename:t[n].gamename}),this.allGamesList.push(t[n]);return this._getGameList(this.allGamesList,e)},handleSelectTags:function(t){this.playerLabelList=t,this.playerDialogVisible=!1},_getGameList:function(t,e){var n=[];e=e.map(Number);for(var a=0;a<e.length;a++)for(var i=0;i<t.length;i++)e[a]===t[i].id&&n.push(t[i]);return n}}},$=(n("O8LE"),Object(g.a)(D,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.visibility,title:t.title,fullscreen:t.fullscreen,top:t.top,width:"80%"},on:{open:t.handleOpen,close:t.handleCancel}},[n("el-form",{ref:"vipForm",staticClass:"form-inline",attrs:{inline:!0,model:t.listQuery,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"隶属游戏"}},[n("el-input",{style:t.styleWidth,attrs:{disabled:!0},model:{value:t.listQuery.gameid,callback:function(e){t.$set(t.listQuery,"gameid",e)},expression:"listQuery.gameid"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"区服"}},[n("el-input",{style:t.styleWidth,attrs:{disabled:!0},model:{value:t.listQuery.clientid,callback:function(e){t.$set(t.listQuery,"clientid",e)},expression:"listQuery.clientid"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"用户ID"}},[n("el-input",{style:t.styleWidth,attrs:{disabled:!0},model:{value:t.listQuery.openid,callback:function(e){t.$set(t.listQuery,"openid",e)},expression:"listQuery.openid"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"角色ID"}},[n("el-input",{style:t.styleWidth,attrs:{disabled:!0},model:{value:t.listQuery.roleid,callback:function(e){t.$set(t.listQuery,"roleid",e)},expression:"listQuery.roleid"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"累计充值金额"}},[n("el-input",{style:t.styleWidth,attrs:{disabled:!0},model:{value:t.listQuery.amount,callback:function(e){t.$set(t.listQuery,"amount",e)},expression:"listQuery.amount"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"所属客服"}},[n("el-input",{style:t.styleWidth,attrs:{disabled:!0},model:{value:t.listQuery.kefu,callback:function(e){t.$set(t.listQuery,"kefu",e)},expression:"listQuery.kefu"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[n("el-input",{style:t.styleWidth,model:{value:t.listQuery.qq,callback:function(e){t.$set(t.listQuery,"qq",e)},expression:"listQuery.qq"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"性别",prop:"resource"}},[n("el-radio-group",{style:t.styleWidth,model:{value:t.listQuery.sex,callback:function(e){t.$set(t.listQuery,"sex",e)},expression:"listQuery.sex"}},[n("el-radio",{attrs:{label:1}},[t._v("男")]),t._v(" "),n("el-radio",{attrs:{label:2}},[t._v("女")])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[n("el-input",{style:t.styleWidth,model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"备用手机号",prop:"mobile2"}},[n("el-input",{style:t.styleWidth,model:{value:t.listQuery.mobile2,callback:function(e){t.$set(t.listQuery,"mobile2",e)},expression:"listQuery.mobile2"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{style:t.styleWidth,model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"生日"}},[n("el-date-picker",{style:t.styleWidth,attrs:{"value-format":"timestamp",type:"date",placeholder:"选择日期"},model:{value:t.listQuery.birthday,callback:function(e){t.$set(t.listQuery,"birthday",e)},expression:"listQuery.birthday"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"所在地"}},[n("el-input",{style:t.styleWidth,model:{value:t.listQuery.location,callback:function(e){t.$set(t.listQuery,"location",e)},expression:"listQuery.location"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"国籍"}},[n("el-input",{style:t.styleWidth,model:{value:t.listQuery.country,callback:function(e){t.$set(t.listQuery,"country",e)},expression:"listQuery.country"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"用户游戏标签"}},[n("span",{staticClass:"select-tags"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openGameDialog}},[t._v("管理用户标签")])],1)]),t._v(" "),n("el-form-item",{attrs:{label:"玩家认定标签"}},[n("span",{staticClass:"select-tags"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openPlayerDialog}},[t._v("管理用户标签")])],1)])],1),t._v(" "),t.gamesLabelList.length>0?n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.gamesLabelList,border:"",fit:""}},[n("el-table-column",{attrs:{label:"游戏名称",width:"150",prop:"gamename",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"所属平台",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("platformFilter")(e.row.platform))+"\n      ")]}}],null,!1,1656985284)}),t._v(" "),n("el-table-column",{staticClass:"tags-item",attrs:{label:"玩法标签"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.play_tags,function(e,a){return n("el-tag",{key:a,staticClass:"tag",attrs:{type:"info"}},[t._v(t._s(e))])})}}],null,!1,2719446709)}),t._v(" "),n("el-table-column",{staticClass:"tags-item",attrs:{label:"风格标签"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.style_tags,function(e,a){return n("el-tag",{key:a,staticClass:"tag",attrs:{type:"info"}},[t._v(t._s(e))])})}}],null,!1,4163140326)})],1):t._e(),t._v(" "),t.playerLabelList.length>0?n("div",{staticClass:"player-label-container"},[n("h1",{staticClass:"title-first"},[t._v("玩家认定标签")]),t._v(" "),t._l(t.playerLabelList,function(e,a){return n("el-tag",{key:a,staticClass:"tag",attrs:{type:"info"}},[t._v(t._s(e))])})],2):t._e(),t._v(" "),n("choose-game-dialog",{attrs:{"game-dialog-visible":t.gameDialogVisible,"all-games":t.allGamesName,"select-games":t.selectGameid},on:{"update:gameDialogVisible":function(e){t.gameDialogVisible=e},"update:game-dialog-visible":function(e){t.gameDialogVisible=e},"on-confirm":t.handleSelectGame}}),t._v(" "),n("choose-player-dialog",{attrs:{"player-dialog-visible":t.playerDialogVisible,"select-tags":t.playerLabelList,"all-player-tags":t.allPlayerTags},on:{"update:playerDialogVisible":function(e){t.playerDialogVisible=e},"update:player-dialog-visible":function(e){t.playerDialogVisible=e},"on-confirm":t.handleSelectTags}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{disabled:t.buttonDisable,type:"primary"},on:{click:function(e){return t.handleConfirm("vipForm")}}},[t._v(t._s(t.confirmBtnText))])],1)],1)},[],!1,null,"0c1f27ae",null));$.options.__file="index.vue";var S=$.exports,O=n("2nGb"),T=n("7Qib"),C=n("t3Un");function z(t){return Object(C.a)({url:"/user/vipList",method:"post",data:t})}function E(t){return Object(C.a)({url:"/user/vipAdd",method:"post",data:t})}function G(t){return Object(C.a)({url:"/user/vipEdit",method:"post",data:t})}function I(t){return Object(C.a)({url:"/user/vipDel",method:"post",data:t})}var V=[{key:"1",display_name:"已认证"},{key:"0",display_name:"未认证"}].reduce(function(t,e){return t[e.key]=e.display_name,t},{}),j=[{key:"1",display_name:"正常"},{key:"2",display_name:"流失"},{key:"3",display_name:"流失预警"},{key:"4",display_name:"付费流失"},{key:"5",display_name:"付费流失预警"},{key:"6",display_name:"流失回归"},{key:"7",display_name:"流失回归充值"},{key:"8",display_name:"付费流失回归"}].reduce(function(t,e){return t[e.key]=e.display_name,t},{}),P={last_login_time:1,last_payment_time:2,amount:3},q={name:"VipPage",components:{Pagination:p.a,AuthenDialog:S},filters:{typeRzStatus:function(t){return V[t]},typeLostStatus:function(t){return j[t]}},data:function(){return{total:0,authenDialog:!1,loading:!0,exportLoading:!1,dialogTitle:"",playerTags:[],authenType:"",listQuery:{gameid:"",openid:"",roleid:"",lost_status:"",last_login_time:"",last_payment_time:"",amount1:"",amount2:"",rz_status:"",kefuid:"",page:1,limit:10},gameNames:null,gameList:[],kefuList:[],orderby:"",vipList:[],authenData:{},buttonDisable:!1}},computed:c()({styleWidth:function(){return{width:"230px"}}},Object(Q.b)(["userid"])),created:function(){var t=this;setTimeout(function(){t.getVipList()},20)},methods:{getVipList:function(){var t=this;return s()(i.a.mark(function e(){var n,a,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c()({},t.listQuery,{orderby:t.orderby}),t.loading=!0,e.next=4,z(n);case 4:a=e.sent,r=a.code,o=a.data,t.loading=!1,r===O.a&&(t.vipList=o.list,t.total=o.total,t.kefuList=o.kefuOptions,t.playerTags=o.playerTags,t.gameNames=o.gameNames,t.gameList=l()(o.gameOptions).map(function(t){return{value:t,label:o.gameOptions[t]}}));case 9:case"end":return e.stop()}},e,t)}))()},onQuery:function(){this.getVipList()},onReset:function(t){this.$refs[t].resetFields(),this.listQuery.amount2="",this.getVipList()},deleteAuthen:function(t){var e=this,n=t.id,a=t.openid;this.$confirm("此操作将永久删除该用户认证信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleDeleteAuthen(n,a)}).catch(function(){})},handleDeleteAuthen:function(t,e){var n=this;return s()(i.a.mark(function a(){var r,l,o;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I({id:t,openid:e});case 2:r=a.sent,l=r.code,o=r.msg,l===O.a?(n.$message({type:"success",message:o}),n.getVipList()):n.$message({type:"warning",message:o});case 6:case"end":return a.stop()}},a,n)}))()},editIndentfy:function(t){this._canEdit(t)?(this.authenData=t,this.authenType="on-editIndentify",this.dialogTitle="编辑认证",this.authenDialog=!0):this.$message({type:"warning",message:"抱歉，您只能编辑您自己认证过的用户！"})},handleEditIndentify:function(t){var e=this;return s()(i.a.mark(function n(){var a,r,l;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.buttonDisable=!0,n.prev=1,n.next=4,G(t);case 4:a=n.sent,r=a.code,l=a.msg,e.buttonDisable=!1,r===O.a?(e.$message({type:"success",message:l}),e.getVipList(),e.authenDialog=!1):e.$message({type:"warning",message:l}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),e.buttonDisable=!1;case 14:case"end":return n.stop()}},n,e,[[1,11]])}))()},identificate:function(t){this.authenData=t,this.authenType="on-indentify",this.dialogTitle="用户认证",this.authenDialog=!0},handleIndentify:function(t){var e=this;return s()(i.a.mark(function n(){var a,r,l;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.buttonDisable=!0,n.prev=1,n.next=4,E(t);case 4:a=n.sent,r=a.code,l=a.msg,e.buttonDisable=!1,r===O.a?(e.$message({type:"success",message:l}),e.getVipList(),e.authenDialog=!1):e.$message({type:"warning",message:l}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),e.buttonDisable=!1;case 14:case"end":return n.stop()}},n,e,[[1,11]])}))()},sortChange:function(t){var e=t.prop,n=t.order,a=P[e],i="ascending"===n?"asc":"desc";this.orderby=a+"|"+i,this.getVipList()},handleDownload:function(){var t=this;return s()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllVipList();case 2:if(a=e.sent){e.next=6;break}return t.$message({type:"warning",message:"导出失败，请稍后再试！"}),e.abrupt("return");case 6:Promise.all([n.e("chunk-a186"),n.e("chunk-8169")]).then(n.bind(null,"S/jZ")).then(function(e){var n=t._formatJson(["gamename","clientid","openid","roleid","last_login_time","last_payment_time","amount","consume_sum","lost_status","qq","mobile","mobile2","birthday","rz_status","kefu"],a);e.export_json_to_excel({header:["隶属游戏","区服","用户ID","角色ID","最后登录时间","最后充值时间","累计充值额度","货币消耗","玩家状态","QQ","手机","备用手机","生日","认证状态","所属客服"],data:n,autoWidth:!0,filename:"vip列表"+Object(T.a)("{y}{m}{d}{h}{i}{s}")})});case 7:case"end":return e.stop()}},e,t)}))()},_formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return"last_login_time"===t||"last_payment_time"===t||"birthday"===t?Object(T.f)(e[t]):"rz_status"===t?V[e[t]]:"lost_status"===t?j[e[t]]:e[t]})})},_canEdit:function(t){return parseInt(this.userid)===parseInt(t.kefuid)||1===parseInt(this.userid)},getAllVipList:function(){var t=this;return s()(i.a.mark(function e(){var n,a,r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={limit:t.total,page:1},t.exportLoading=!0,e.next=4,z(n);case 4:if(a=e.sent,r=a.code,l=a.data,t.exportLoading=!1,r!==O.a){e.next=12;break}return e.abrupt("return",l.list);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,t)}))()}}},N=(n("KXeR"),Object(g.a)(q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{ref:"vipForm",staticClass:"form-inline",attrs:{inline:!0,model:t.listQuery,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"隶属游戏",prop:"gameid"}},[n("el-select",{style:t.styleWidth,attrs:{clearable:"",placeholder:"全部游戏"},model:{value:t.listQuery.gameid,callback:function(e){t.$set(t.listQuery,"gameid",e)},expression:"listQuery.gameid"}},t._l(t.gameList,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"用户ID",prop:"openid"}},[n("el-input",{style:t.styleWidth,attrs:{placeholder:"请输入"},model:{value:t.listQuery.openid,callback:function(e){t.$set(t.listQuery,"openid",e)},expression:"listQuery.openid"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"玩家状态",prop:"lost_status"}},[n("el-select",{style:t.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:t.listQuery.lost_status,callback:function(e){t.$set(t.listQuery,"lost_status",e)},expression:"listQuery.lost_status"}},[n("el-option",{attrs:{label:"正常",value:"1"}}),t._v(" "),n("el-option",{attrs:{label:"流失",value:"2"}}),t._v(" "),n("el-option",{attrs:{label:"流失预警",value:"3"}}),t._v(" "),n("el-option",{attrs:{label:"付费流失",value:"4"}}),t._v(" "),n("el-option",{attrs:{label:"付费流失预警",value:"5"}}),t._v(" "),n("el-option",{attrs:{label:"流失回归",value:"6"}}),t._v(" "),n("el-option",{attrs:{label:"流失回归充值",value:"7"}}),t._v(" "),n("el-option",{attrs:{label:"付费流失回归",value:"8"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"角色ID",prop:"roleid"}},[n("el-input",{style:t.styleWidth,attrs:{placeholder:"请输入"},model:{value:t.listQuery.roleid,callback:function(e){t.$set(t.listQuery,"roleid",e)},expression:"listQuery.roleid"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"最后登录",prop:"last_login_time"}},[n("el-date-picker",{style:t.styleWidth,attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.listQuery.last_login_time,callback:function(e){t.$set(t.listQuery,"last_login_time",e)},expression:"listQuery.last_login_time"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"最后充值",prop:"last_payment_time"}},[n("el-date-picker",{style:t.styleWidth,attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.listQuery.last_payment_time,callback:function(e){t.$set(t.listQuery,"last_payment_time",e)},expression:"listQuery.last_payment_time"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"认证状态",prop:"rz_status"}},[n("el-select",{style:t.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:t.listQuery.rz_status,callback:function(e){t.$set(t.listQuery,"rz_status",e)},expression:"listQuery.rz_status"}},[n("el-option",{attrs:{value:1,label:"已认证"}}),t._v(" "),n("el-option",{attrs:{value:2,label:"未认证"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"所属客服",prop:"kefuid"}},[n("el-select",{style:t.styleWidth,attrs:{clearable:"",placeholder:"请选择"},model:{value:t.listQuery.kefuid,callback:function(e){t.$set(t.listQuery,"kefuid",e)},expression:"listQuery.kefuid"}},t._l(t.kefuList,function(t){return n("el-option",{key:t.id,attrs:{label:t.nick_name,value:t.id}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"充值金额",prop:"amount1"}},[n("el-input",{staticStyle:{width:"105px"},attrs:{placeholder:"请输入"},model:{value:t.listQuery.amount1,callback:function(e){t.$set(t.listQuery,"amount1",e)},expression:"listQuery.amount1"}}),t._v(" "),n("span",{staticClass:"to-divide"},[t._v("至")]),t._v(" "),n("el-input",{staticStyle:{width:"105px"},attrs:{placeholder:"请输入"},model:{value:t.listQuery.amount2,callback:function(e){t.$set(t.listQuery,"amount2",e)},expression:"listQuery.amount2"}})],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-left":"20px"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onQuery}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){return t.onReset("vipForm")}}},[t._v("重置")])],1)],1)],1),t._v(" "),n("div",{staticClass:"top-operate"},[n("el-button",{attrs:{loading:t.exportLoading,icon:"el-icon-download",type:"primary",size:"mini"},on:{click:t.handleDownload}},[t._v("批量导出")])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.vipList,border:"",fit:""},on:{"sort-change":t.sortChange}},[n("el-table-column",{attrs:{label:"隶属游戏",fixed:"",width:"180",prop:"gamename",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"区服",prop:"clientid",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"用户ID","min-width":"100",prop:"openid",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"角色ID","min-width":"140",prop:"roleid",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"最后登录时间",sortable:"custom",prop:"last_login_time","min-width":"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("parseTime")(e.row.last_login_time)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"最后充值时间",sort:"1",sortable:"custom",prop:"last_payment_time","min-width":"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("parseTime")(e.row.last_payment_time)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"累计充值额度",sortable:"custom","min-width":"180",prop:"amount",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"货币消耗",width:"120",prop:"consume_sum",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"玩家状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("typeLostStatus")(e.row.lost_status)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"QQ","min-width":"150",prop:"qq",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"手机","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("emptyToString")(e.row.mobile)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"备用手机",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("emptyToString")(e.row.mobile2)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"生日",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("parseTime")(e.row.birthday,"{y}-{m}-{d}")))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"认证情况",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("typeRzStatus")(e.row.rz_status)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"所属客服","min-width":"120",prop:"kefu",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"150",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.rz_status?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return t.editIndentfy(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),0===e.row.rz_status?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return t.identificate(e.row)}}},[t._v("认证")]):t._e(),t._v(" "),1===e.row.rz_status?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.deleteAuthen(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getVipList}}),t._v(" "),n("authen-dialog",{attrs:{visibility:t.authenDialog,data:t.authenData,"all-player-tags":t.playerTags,"all-games":t.gameNames,type:t.authenType,"button-disable":t.buttonDisable,title:t.dialogTitle,"confirm-btn-text":"确定"},on:{"update:visibility":function(e){t.authenDialog=e},"on-editIndentify":t.handleEditIndentify,"on-indentify":t.handleIndentify}})],1)},[],!1,null,"36e1f738",null));N.options.__file="index.vue";e.default=N.exports},ETRx:function(t,e,n){"use strict";var a=n("bdib");n.n(a).a},FYOT:function(t,e,n){},I7iU:function(t,e,n){"use strict";var a=n("KrPD");n.n(a).a},KXeR:function(t,e,n){"use strict";var a=n("4sIl");n.n(a).a},KrPD:function(t,e,n){},Mz3J:function(t,e,n){"use strict";Math.easeInOutQuad=function(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function i(t,e,n){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=t-i,l=0;e=void 0===e?500:e;!function t(){l+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(l,i,r,e)),l<e?a(t):n&&"function"==typeof n&&n()}()}var r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[8,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&i(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&i(0,800)}}},l=(n("q/1o"),n("ZrdR")),o=Object(l.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},[],!1,null,"3c361098",null);o.options.__file="index.vue";e.a=o.exports},O8LE:function(t,e,n){"use strict";var a=n("g0S3");n.n(a).a},Vala:function(t,e,n){},Yfch:function(t,e,n){"use strict";function a(t){return/^1\d{10}$/.test(t)}function i(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function r(t){return/([a-zA-Z0-9.!@#$%^&*()_?<>{}]){6,20}/.test(t)}function l(t){return/^[a-zA-Z0-9_-]{4,16}$/.test(t)}function o(t){return!["fuck","tmd","他妈的"].includes(t)}n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return o})},bdib:function(t,e,n){},c7EX:function(t,e,n){"use strict";var a=n("FYOT");n.n(a).a},cLjf:function(t,e,n){t.exports=n("xOJF")},g0S3:function(t,e,n){},hDQ3:function(t,e,n){"use strict";e.__esModule=!0;var a=function(t){return t&&t.__esModule?t:{default:t}}(n("Asgo"));e.default=function(t){return function(){var e=t.apply(this,arguments);return new a.default(function(t,n){return function i(r,l){try{var o=e[r](l),s=o.value}catch(t){return void n(t)}if(!o.done)return a.default.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}("next")})}}},k4Ii:function(t,e){!function(e){"use strict";var n,a=Object.prototype,i=a.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=_;var p="suspendedStart",d="suspendedYield",f="executing",m="completed",y={},h={};h[l]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==a&&i.call(v,l)&&(h=v);var b=Q.prototype=w.prototype=Object.create(h);x.prototype=b.constructor=Q,Q.constructor=x,Q[s]=x.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,Q):(t.__proto__=Q,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},L(D.prototype),D.prototype[o]=function(){return this},c.AsyncIterator=D,c.async=function(t,e,n,a){var i=new D(_(t,e,n,a));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(b),b[s]="Generator",b[l]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},c.values=C,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,i){return o.type="throw",o.arg=t,e.next=a,i&&(e.method="next",e.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var s=i.call(l,"catchLoc"),u=i.call(l,"finallyLoc");if(s&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=t,l.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:C(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=n),y}}}function _(t,e,n,a){var i=e&&e.prototype instanceof w?e:w,r=Object.create(i.prototype),l=new T(a||[]);return r._invoke=function(t,e,n){var a=p;return function(i,r){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===i)throw r;return z()}for(n.method=i,n.arg=r;;){var l=n.delegate;if(l){var o=$(l,n);if(o){if(o===y)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var s=k(t,e,n);if("normal"===s.type){if(a=n.done?m:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=m,n.method="throw",n.arg=s.arg)}}}(t,n,l),r}function k(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function Q(){}function L(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function D(t){var e;this._invoke=function(n,a){function r(){return new Promise(function(e,r){!function e(n,a,r,l){var o=k(t[n],t,a);if("throw"!==o.type){var s=o.arg,u=s.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,r,l)},function(t){e("throw",t,r,l)}):Promise.resolve(u).then(function(t){s.value=t,r(s)},l)}l(o.arg)}(n,a,e,r)})}return e=e?e.then(r,r):r()}}function $(t,e){var a=t.iterator[e.method];if(a===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,$(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=k(a,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,y;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(i.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:z}}function z(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},"q/1o":function(t,e,n){"use strict";var a=n("Vala");n.n(a).a},xOJF:function(t,e,n){var a=function(){return this}()||Function("return this")(),i=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,r=i&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,t.exports=n("k4Ii"),i)a.regeneratorRuntime=r;else try{delete a.regeneratorRuntime}catch(t){a.regeneratorRuntime=void 0}},xPuz:function(t,e,n){}}]);